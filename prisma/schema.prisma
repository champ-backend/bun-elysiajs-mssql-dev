generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model User {
  id                Int                 @id @default(autoincrement())
  username          String              @unique
  firstname         String              @db.NVarChar(150)
  lastname          String              @db.NVarChar(150)
  password          String              @db.NVarChar(100)
  role              String              @db.NVarChar(10)
  salt              String              @db.NVarChar(50)
  verifyCode        String              @db.NVarChar(100)
  status            String              @default("ACTIVE") @db.NVarChar(10)
  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt
  refreshToken      String              @db.NVarChar(100)
  DeviceInformation DeviceInformation[]
  ExportHistories   ExportHistories[]
  FileUpload        FileUpload[]
  OrderTransactions OrderTransactions[]
  Profile           Profile?
}

model Profile {
  id     Int  @id @default(autoincrement())
  userId Int  @unique
  User   User @relation(fields: [userId], references: [id])
}

model DeviceInformation {
  id          Int      @id @default(autoincrement())
  ipAddress   String   @db.NVarChar(50)
  accessToken String   @db.NVarChar(255)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  userId      Int?
  tokenType   String   @db.NVarChar(10)
  User        User?    @relation(fields: [userId], references: [id])
}

model FileUpload {
  id              Int            @id @default(autoincrement())
  fileKey         String         @unique @db.NVarChar(255)
  fileName        String         @db.NVarChar(100)
  type            String         @db.NVarChar(100)
  path            String         @db.NVarChar(255)
  size            Float
  url             String         @db.NVarChar(255)
  isPublic        Boolean        @default(false)
  createdAt       DateTime       @default(now())
  updatedAt       DateTime       @updatedAt
  userId          Int
  salesPlatformId Int?
  SalesPlatform   SalesPlatform? @relation(fields: [salesPlatformId], references: [id])
  User            User           @relation(fields: [userId], references: [id])
}

model SalesPlatform {
  id                Int                 @id @default(autoincrement())
  name              String              @unique @db.NVarChar(50)
  status            String              @default("ACTIVE") @db.NVarChar(10)
  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt
  FileUpload        FileUpload[]
  OrderTransactions OrderTransactions[]
}

model ProductMaster {
  id             Int      @id @default(autoincrement())
  plant          String?  @db.NVarChar(20)
  material       String   @unique @db.NVarChar(255)
  materialNumber String?  @db.NVarChar(255)
  mg1            String?  @db.NVarChar(20)
  mg2            String?  @db.NVarChar(20)
  profitCenter   String?  @db.NVarChar(20)
  baseUnit       String?  @db.NVarChar(20)
  materialType   String?  @db.NVarChar(20)
  profile        String?  @db.NVarChar(255)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model MaterialGroup {
  id             Int      @id @default(autoincrement())
  profitCenter   String   @db.NVarChar(20)
  mg4            String   @unique @db.NVarChar(20)
  materialGroup4 String   @db.NVarChar(50)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model OrderTransactions {
  id                  Int            @id @default(autoincrement())
  accountCode         BigInt
  salesmanCode        Int
  purchaseOrder       String?        @db.NVarChar(20)
  invoiceDate         DateTime
  name                String?        @db.NVarChar(100)
  name2               String?        @db.NVarChar(100)
  address             String         @db.NVarChar(Max)
  address2            String?        @db.NVarChar(Max)
  address3            String?        @db.NVarChar(Max)
  postCode            String         @db.VarChar(10)
  city                String         @db.NVarChar(255)
  country             String?        @db.NVarChar(5)
  tel                 String?        @db.NVarChar(255)
  requireTaxInvoice   Boolean?
  taxId               String?        @db.NVarChar(16)
  materialProductCode String?        @db.NVarChar(255)
  itemCat             String         @db.NVarChar(255)
  quantity            Int
  mg4                 String?        @db.NVarChar(255)
  profitCenter        String?        @db.NVarChar(255)
  UOM                 String         @db.NVarChar(255)
  plant               String         @db.NVarChar(255)
  storageLocation     String         @db.NVarChar(255)
  SORPrice            Decimal        @db.Decimal(10, 2)
  totalPrice          Decimal        @db.Decimal(10, 2)
  createdAt           DateTime       @default(now())
  updatedAt           DateTime       @updatedAt
  userId              Int?
  salesPlatformId     Int?
  SalesPlatform       SalesPlatform? @relation(fields: [salesPlatformId], references: [id])
  User                User?          @relation(fields: [userId], references: [id])

  @@unique([purchaseOrder, name, materialProductCode, SORPrice], name: "uniqueOrderTransaction")
}

model ShopeeOrder {
  id                    Int       @id @default(autoincrement())
  accountCode           BigInt
  salesmanCode          Int
  purchaseOrder         String?   @db.NVarChar(20)
  invoiceDate           DateTime
  name                  String?   @db.NVarChar(100)
  name2                 String?   @db.NVarChar(100)
  address               String    @db.NVarChar(Max)
  address2              String?   @db.NVarChar(Max)
  address3              String?   @db.NVarChar(Max)
  postCode              String    @db.VarChar(10)
  city                  String    @db.NVarChar(255)
  tel                   String?   @db.NVarChar(255)
  requireTaxInvoice     Boolean?
  taxId                 String?   @db.NVarChar(16)
  materialProductCode   String?   @db.NVarChar(255)
  itemCat               String    @db.NVarChar(255)
  quantity              Int
  mg4                   String?   @db.NVarChar(255)
  profitCenter          String?   @db.NVarChar(255)
  UOM                   String    @db.NVarChar(255)
  plant                 String    @db.NVarChar(255)
  storageLocation       String    @db.NVarChar(255)
  SORPrice              Decimal   @db.Decimal(10, 2)
  invoiceEmail          String?   @db.NVarChar(255)
  orderStatus           String?   @db.NVarChar(255)
  refundStatus          String?   @db.NVarChar(255)
  buyerName             String?   @db.NVarChar(255)
  orderDate             DateTime?
  paymentMethod         String?   @db.NVarChar(255)
  paymentDetails        String?   @db.NVarChar(255)
  installmentPlan       String?   @db.NVarChar(255)
  transactionFeePercent String?   @db.NVarChar(255)
  shippingOption        String?   @db.NVarChar(255)
  shippingMethod        String?   @db.NVarChar(255)
  trackingNumber        String?   @db.NVarChar(255)
  estimatedDeliveryDate DateTime?
  deliveryTime          String?   @db.NVarChar(255)
  parentSku             String?   @db.NVarChar(255)
  productName           String?   @db.NVarChar(255)
  optionName            String?   @db.NVarChar(255)
  originalPrice         Decimal?  @db.Decimal(10, 2)
  salePrice             Decimal?  @db.Decimal(10, 2)
  returnedQuantity      Int?
  netSalePrice          Decimal?  @db.Decimal(10, 2)
  shopeeDiscount        Decimal?  @db.Decimal(10, 2)
  sellerVoucher         Decimal?  @db.Decimal(10, 2)
  coinsCashbackSeller   Decimal?  @db.Decimal(10, 2)
  shopeeVoucher         Decimal?  @db.Decimal(10, 2)
  discountCode          String?   @db.NVarChar(255)
  bundleDeal            String?   @db.NVarChar(255)
  bundleDiscountSeller  Decimal?  @db.Decimal(10, 2)
  bundleDiscountShopee  Decimal?  @db.Decimal(10, 2)
  coinsUsed             Decimal?  @db.Decimal(10, 2)
  allPaymentPromotions  Decimal?  @db.Decimal(10, 2)
  commissionFee         Decimal?  @db.Decimal(10, 2)
  transactionFee        Decimal?  @db.Decimal(10, 2)
  totalBuyerPaid        Decimal?  @db.Decimal(10, 2)
  shippingFeeBuyer      Decimal?  @db.Decimal(10, 2)
  shippingFeeShopee     Decimal?  @db.Decimal(10, 2)
  returnShippingFee     Decimal?  @db.Decimal(10, 2)
  serviceFee            Decimal?  @db.Decimal(10, 2)
  totalAmount           Decimal?  @db.Decimal(10, 2)
  estimatedShippingFee  Decimal?  @db.Decimal(10, 2)
  receiverName          String?   @db.NVarChar(255)
  buyerNote             String?   @db.NVarChar(255)
  shippingCountry       String?   @db.NVarChar(255)
  shippingDistrict      String?   @db.NVarChar(255)
  orderType             String?   @db.NVarChar(255)
  orderSuccessTime      String?   @db.NVarChar(255)
  orderNotes            String?   @db.NVarChar(255)
  buyerInvoiceRequest   String?   @db.NVarChar(255)
  invoiceType           String?   @db.NVarChar(255)
  invoiceName           String?   @db.NVarChar(255)
  invoiceBranchType     String?   @db.NVarChar(255)
  invoiceBranchName     String?   @db.NVarChar(255)
  invoiceBranchCode     String?   @db.NVarChar(255)
  invoiceFullAddress    String?   @db.NVarChar(255)
  invoiceAddressDetails String?   @db.NVarChar(255)
  invoiceSubDistrict    String?   @db.NVarChar(255)
  invoiceDistrict       String?   @db.NVarChar(255)
  invoiceProvince       String?   @db.NVarChar(255)
  invoicePostalCode     String?   @db.NVarChar(255)
  taxpayerId            String?   @db.NVarChar(255)
  invoicePhoneNumber    String?   @db.NVarChar(255)
  category              String?   @db.NVarChar(255)
  SOR_ApasNumber        String?   @db.NVarChar(255)
  codeSales             String?   @db.NVarChar(255)
  invoiceReceipt        String?   @db.NVarChar(255)
  shippingAddress       String?   @db.NVarChar(255)
  receiverPhone         String?   @db.NVarChar(255)
  createdAt             DateTime  @default(now())
  updatedAt             DateTime  @updatedAt

  @@unique([purchaseOrder, name, materialProductCode, SORPrice], name: "uniqueShopeeOrder")
}

model ShopifyOrder {
  id                        Int       @id @default(autoincrement())
  accountCode               BigInt
  salesmanCode              Int
  purchaseOrder             String?   @db.NVarChar(20)
  invoiceDate               DateTime
  name                      String?   @db.NVarChar(100)
  name2                     String?   @db.NVarChar(100)
  address                   String    @db.NVarChar(Max)
  address2                  String?   @db.NVarChar(Max)
  address3                  String?   @db.NVarChar(Max)
  postCode                  String    @db.VarChar(6)
  city                      String    @db.NVarChar(255)
  tel                       String?   @db.NVarChar(255)
  requireTaxInvoice         Boolean?
  taxId                     String?   @db.NVarChar(16)
  materialProductCode       String?   @db.NVarChar(255)
  itemCat                   String    @db.NVarChar(255)
  quantity                  Int
  mg4                       String?   @db.NVarChar(255)
  profitCenter              String?   @db.NVarChar(255)
  UOM                       String    @db.NVarChar(255)
  plant                     String    @db.NVarChar(255)
  storageLocation           String    @db.NVarChar(255)
  SORPrice                  Decimal   @db.Decimal(10, 2)
  orderName                 String?   @db.NVarChar(255)
  email                     String?   @db.NVarChar(255)
  financialStatus           String?   @db.NVarChar(255)
  fulfillmentStatus         String?   @db.NVarChar(255)
  fulfilledAt               DateTime?
  acceptsMarketing          String?   @db.NVarChar(255)
  currency                  String?   @db.NVarChar(255)
  subtotal                  Decimal?  @db.Decimal(10, 2)
  shipping                  Decimal?  @db.Decimal(10, 2)
  taxes                     Decimal?  @db.Decimal(10, 2)
  discountCode              String?   @db.NVarChar(255)
  discountAmount            Decimal?  @db.Decimal(10, 2)
  shippingMethod            String?   @db.NVarChar(255)
  orderCreatedAt            DateTime?
  lineitemName              String?   @db.NVarChar(255)
  lineitemPrice             Decimal?  @db.Decimal(10, 2)
  lineitemCompareAtPrice    Decimal?  @db.Decimal(10, 2)
  lineitemRequiresShipping  Boolean?
  lineitemTaxable           Boolean?
  lineitemFulfillmentStatus String?   @db.NVarChar(255)
  billingStreet             String?   @db.NVarChar(255)
  billingAddress2           String?   @db.NVarChar(255)
  billingCompany            String?   @db.NVarChar(255)
  billingProvince           String?   @db.NVarChar(255)
  billingCountry            String?   @db.NVarChar(255)
  shippingName              String?   @db.NVarChar(255)
  shippingStreet            String?   @db.NVarChar(255)
  shippingAddress1          String?   @db.NVarChar(255)
  shippingAddress2          String?   @db.NVarChar(255)
  shippingCompany           String?   @db.NVarChar(255)
  shippingCity              String?   @db.NVarChar(255)
  shippingZip               String?   @db.NVarChar(255)
  shippingProvince          String?   @db.NVarChar(255)
  shippingCountry           String?   @db.NVarChar(255)
  shippingPhone             String?   @db.NVarChar(255)
  notes                     String?   @db.NVarChar(255)
  noteAttributes            String?   @db.Text
  cancelledAt               DateTime?
  paymentMethod             String?   @db.NVarChar(255)
  paymentReference          String?   @db.NVarChar(255)
  refundedAmount            Decimal?  @db.Decimal(10, 2)
  outstandingBalance        Decimal?  @db.Decimal(10, 2)
  employee                  String?   @db.NVarChar(255)
  location                  String?   @db.NVarChar(255)
  deviceId                  String?   @db.NVarChar(255)
  tags                      String?   @db.NVarChar(255)
  riskLevel                 String?   @db.NVarChar(255)
  source                    String?   @db.NVarChar(255)
  lineitemDiscount          Decimal?  @db.Decimal(10, 2)
  tax1Name                  String?   @db.NVarChar(255)
  tax1Value                 String?   @db.NVarChar(255)
  tax2Name                  String?   @db.NVarChar(255)
  tax2Value                 String?   @db.NVarChar(255)
  tax3Name                  String?   @db.NVarChar(255)
  tax3Value                 String?   @db.NVarChar(255)
  tax4Name                  String?   @db.NVarChar(255)
  tax4Value                 String?   @db.NVarChar(255)
  tax5Name                  String?   @db.NVarChar(255)
  tax5Value                 String?   @db.NVarChar(255)
  phone                     String?   @db.NVarChar(255)
  receiptNumber             String?   @db.NVarChar(255)
  duties                    String?   @db.NVarChar(255)
  billingProvinceName       String?   @db.NVarChar(255)
  shippingProvinceName      String?   @db.NVarChar(255)
  paymentId                 String?   @db.NVarChar(255)
  paymentTermsName          String?   @db.NVarChar(255)
  nextPaymentDueAt          DateTime?
  paymentReferences         String?   @db.NVarChar(255)
  createdAt                 DateTime  @default(now())
  updatedAt                 DateTime  @updatedAt

  @@unique([purchaseOrder, name, materialProductCode, SORPrice], name: "uniqueShopifyOrder")
}

model TiktokOrder {
  id                          Int       @id @default(autoincrement())
  accountCode                 BigInt
  salesmanCode                Int
  purchaseOrder               String?   @db.NVarChar(20)
  invoiceDate                 DateTime
  name                        String?   @db.NVarChar(100)
  name2                       String?   @db.NVarChar(100)
  address                     String    @db.NVarChar(Max)
  address2                    String?   @db.NVarChar(Max)
  address3                    String?   @db.NVarChar(Max)
  postCode                    String    @db.VarChar(6)
  city                        String    @db.NVarChar(255)
  tel                         String?   @db.NVarChar(255)
  requireTaxInvoice           Boolean?
  taxId                       String?   @db.NVarChar(16)
  materialProductCode         String?   @db.NVarChar(255)
  itemCat                     String    @db.NVarChar(255)
  quantity                    Int
  mg4                         String?   @db.NVarChar(255)
  profitCenter                String?   @db.NVarChar(255)
  UOM                         String    @db.NVarChar(255)
  plant                       String    @db.NVarChar(255)
  storageLocation             String    @db.NVarChar(255)
  SORPrice                    Decimal   @db.Decimal(10, 2)
  orderStatus                 String?   @db.NVarChar(255)
  orderSubStatus              String?   @db.NVarChar(255)
  cancelationReturnType       String?   @db.NVarChar(255)
  normalReturnType            String?   @db.NVarChar(255)
  normalOrPreOrder            String?   @db.NVarChar(255)
  skuId                       String?   @db.NVarChar(255)
  productName                 String?   @db.NVarChar(255)
  variation                   String?   @db.NVarChar(255)
  skuQuantityOfReturn         Int?
  skuUnitOriginalPrice        Decimal   @db.Decimal(10, 2)
  skuSubtotalBeforeDiscount   Decimal   @db.Decimal(10, 2)
  skuPlatformDiscount         Decimal   @db.Decimal(10, 2)
  skuSellerDiscount           Decimal   @db.Decimal(10, 2)
  shippingFeeAfterDiscount    Decimal   @db.Decimal(10, 2)
  originalShippingFee         Decimal   @db.Decimal(10, 2)
  shippingFeeSellerDiscount   Decimal   @db.Decimal(10, 2)
  shippingFeePlatformDiscount Decimal   @db.Decimal(10, 2)
  taxes                       Decimal   @db.Decimal(10, 2)
  smallOrderFee               Decimal   @db.Decimal(10, 2)
  orderAmount                 Decimal   @db.Decimal(10, 2)
  orderRefundAmount           Decimal   @db.Decimal(10, 2)
  createdTime                 DateTime?
  rtsTime                     DateTime?
  shippedTime                 DateTime?
  deliveredTime               DateTime?
  cancelledTime               DateTime?
  cancelBy                    String?   @db.NVarChar(255)
  cancelReason                String?   @db.NVarChar(255)
  fulfillmentType             String?   @db.NVarChar(255)
  warehouseName               String?   @db.NVarChar(255)
  trackingId                  String?   @db.NVarChar(255)
  deliveryOption              String?   @db.NVarChar(255)
  shippingProviderName        String?   @db.NVarChar(255)
  buyerMessage                String?   @db.NVarChar(255)
  buyerUsername               String?   @db.NVarChar(255)
  country                     String?   @db.NVarChar(5)
  district                    String?   @db.NVarChar(255)
  paymentMethod               String?   @db.NVarChar(255)
  weight                      Decimal   @db.Decimal(10, 2)
  productCategory             String?   @db.NVarChar(255)
  packageId                   String?   @db.NVarChar(255)
  sellerNote                  String?   @db.NVarChar(255)
  checkedStatus               String?   @db.NVarChar(50)
  checkedMarkedBy             String?   @db.NVarChar(100)
  createdAt                   DateTime  @default(now())
  updatedAt                   DateTime  @updatedAt

  @@unique([purchaseOrder, name, materialProductCode, SORPrice], name: "uniqueTiktokOrder")
}

model ExportHistories {
  id           Int      @id @default(autoincrement())
  transactions String   @db.NVarChar(Max)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  userId       Int?
  User         User?    @relation(fields: [userId], references: [id])
}

model VatRates {
  id          Int      @id @default(autoincrement())
  rate        Decimal  @db.Decimal(5, 2)
  country     String   @unique @db.NVarChar(5)
  description String?  @db.NVarChar(255)
  status      String   @default("ACTIVE") @db.NVarChar(10)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Warehouses {
  id              Int      @id @default(autoincrement())
  material        String?  @db.NVarChar(255)
  description     String?  @db.NVarChar(255)
  plant           String?  @db.NVarChar(255)
  storageLocation String?  @db.NVarChar(255)
  baseUnit        String?  @db.NVarChar(255)
  unrestricted    Float?
  blocked         Float?
  createdAt       DateTime @db.DateTimeOffset
  updatedAt       DateTime @db.DateTimeOffset
}
